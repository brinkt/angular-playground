<div class="container">
  <h1 class="top-heading" style="float: left;">{{ (overlay == 'edit') ? 'Edit' : 'New' }} Page</h1>

  <form name="page" role="form" (ngSubmit)="onSubmit()" #pageForm="ngForm" style="clear: both;">
    <div class="row">
      <div class="col-sm-1 col-md-6">
        <div class="input-group">
          <label for="title">Title</label>
          <input type="text" name="title" class="form-control" required
            [(ngModel)]="page.title" #pageName="ngModel">
        </div>
      </div>
      <div class="col-sm-1 col-md-6">
        <div class="input-group">
          <label for="path">Path</label>
          <input type="text" name="path" class="form-control"
            [(ngModel)]="page.path" #pagePath="ngModel">
        </div>
      </div>
    </div>
    <div class="mar-t20">
      <app-content-builder [(objects)]="page.data" [viewType]="'edit'"
        *ngIf="page && page.data"></app-content-builder>
    </div>
    <div class="mar-t20">
      <button class="btn btn-default" type="submit" [disabled]="!pageForm.valid">Save</button>
      <button class="btn btn-default" type="button" (click)="cancel()">Cancel &amp; Go Back</button>
      <span style="padding-left: 10px;">
        <input type="checkbox" value="" (change)="pageJSON = !pageJSON"> Display Page JSON
      </span>
    </div>
  </form>
</div>
<div class="container mar-t20" *ngIf="pageJSON">{{pageToJSON()}}</div>